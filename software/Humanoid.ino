/**

   Create by David Lee/ Gogocom
   January/2025
   
   The MIT License (MIT)

*/
#define BLYNK_PRINT Serial

/* Fill in information from Blynk Device Info here */
#define BLYNK_TEMPLATE_ID "TMPL6fQP4aXvb"
#define BLYNK_TEMPLATE_NAME "Humanoid"
#define BLYNK_AUTH_TOKEN "fLaAB_KTDRqopOsoreXXiCNCvQT3Ff3H"

//deserialize a JSON document with ArduinoJson.
#include <ArduinoJson.h>
#include <string.h>

// For a WiFi connection and Blynk
#include <WiFi.h>
#include <WiFiClient.h>
#include <BlynkSimpleEsp32.h>

#include <BLEDevice.h>
#include <BLEServer.h>
#include <BLEUtils.h>
#include <BLE2902.h>

// Include the correct display library
#include <ESP32Servo.h>

// For a connection via I2C using the Arduino Wire include:
#include <Wire.h>               // Only needed for Arduino 1.6.5 and earlier
#include "SSD1306Wire.h"        // legacy: #include "SSD1306.h"

// SPIFFFS for writing or reading a temporary json file.
#include <FS.h>
#include <SPIFFS.h>

/* You only need to format SPIFFS the first time you run a
   test or else use the SPIFFS plugin to create a partition
   https://github.com/me-no-dev/arduino-esp32fs-plugin */
#define FORMAT_SPIFFS_IF_FAILED true



// Optionally include custom images
#include "images.h"

//#define debug

#define LED_ON   HIGH
#define LED_OFF  LOW

#define BLYNK_RED       "#D3435C"
#define BLYNK_GREEN     "#23C48E"
#define BLYNK_DARK_BLUE "#5F7CD8"
#define BLYNK_BLUE      "#04C0F8"
#define BLYNK_WHITE     "#FFFFFF"
#define BLYNK_YELLOW    "#ED9D00"

#define TEST      1
#define WAKING    0
#define BiKiBiKi  1

#define ActionMax 20
#define FramesMax 64

// Your WiFi credentials.
// Set password to "" for open networks.
char* ssid         = "COREANHOUSE";
char* password     = "COREAN000";


enum {
  Right, Left, BothS, BothC
};

enum {
  Shoulder, Elbow, Wrist, Hip, Thigh, Knee, Ankle, Foot 
} ;



//Head 32
struct act {
  int mode ;
  int which;
  int degree;
} ;

struct BehaviorLoop {
    int first;
    int last;
    int count;
};

struct BehaviorBody {
    int index;
    int musle[2][8];
    int tdelay;
};

struct Behavior {
  int count;
  struct BehaviorBody actions[ActionMax];
  int Number;
  const char *Name;
};

struct BehaviorExtend {
  int count;
  struct BehaviorLoop Loop[5];
  struct BehaviorBody actions[ActionMax];
  int Number;
  const char *Name;
};

struct body {
  int pin;
  int offset;
  int initial;
  int min;
  int max;
} RobotBody[2][8] = {
  //Shoulder,               Elbow, (+35, -35)        Wrist,                Hip,                 Thigh,  (-10,+10)        Knee,(+45, -45)        Ankle,                Foot 
//   { { 2, -1, 0,-90, +90 },{ 4, +1,  0, -125, +55 },{16, +1, 0,-90, +90 },{17, +1, 0,-90, +90 },{ 5, +1, 0, -85, +95},{18, -1, 0, -135, +45 },{19, -1, 0, -85, +95 },{23, +1, 0,-90, +90 }},  // right
//   { {33, -1, 0,-90, +90 },{25, +1,  0, -55, +125 },{26, +1, 0,-90, +90 },{27, +1, 0,-90, +90 },{14, +1, 0,-95, +85 },{12, -1, 0, -45, +135 },{13, -1, 0, -95, +85 },{15, +1, 0,-90, +90 }}   // left
   { { 2, -1, 0,-90, +90 },{ 4, +1,  0, -125, +55 },{16, +1, 0,-90, +90 },{17, +1, 0,-90, +90 },{ 5, +1, 0, -45, +135},{18, -1, 0, -58, +122 },{19, -1, 0, -45, +135 },{23, +1, 0,-90, +90 }},  // right
   { {33, -1, 0,-90, +90 },{25, +1,  0, -55, +125 },{26, +1, 0,-90, +90 },{27, +1, 0,-90, +90 },{14, +1, 0,-135, +45 },{12, -1, 0, -122, +58 },{13, -1, 0, -135, +45 },{15, +1, 0,-90, +90 }}   // left
};


  // JSON input string for conversion
const char *jsonDevice = "  {      \
    \"right_thigh_yaw\"      : [0,-1], \
    \"right_shoulder_pitch\" : [0, 0], \
    \"right_shoulder_roll\"  : [0, 1], \
    \"right_elbow_roll\"     : [0, 2], \
    \"right_thigh_roll\"     : [0, 3], \
    \"right_thigh_pitch\"    : [0, 4], \
    \"right_knee_pitch\"     : [0, 5], \
    \"right_foot_pitch\"     : [0, 6], \
    \"right_foot_roll\"      : [0, 7], \
     \"left_thigh_yaw\"      : [1,-1], \
    \"left_shoulder_pitch\"  : [1, 0], \
    \"left_shoulder_roll\"   : [1, 1], \
    \"left_elbow_roll\"      : [1, 2], \
    \"left_thigh_roll\"      : [1, 3], \
    \"left_thigh_pitch\"     : [1, 4], \
    \"left_knee_pitch\"      : [1, 5], \
    \"left_foot_pitch\"      : [1, 6], \
    \"left_foot_roll\"       : [1, 7]  \
    }";

struct BehaviorExtend Frame =
 {
  0,
  {
    {0,0,0},
    {0,0,0}
  },
  {
    { 
      0,
      {
        {0,0,0,0,0,0,0,0 },
        {0,0,0,0,0,0,0,0 }
      },
      0
    },
    {
      1,
      {
        {0,0,0,0,0,0,0,0 },
        {0,0,0,0,0,0,0,0 }
      },
      0
    }
  },
  100,
  "anme"
};

const struct Behavior Frames[] = {
{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-114,0,0,50,0,0,0,-157 },
       {-83,-110,0,-64,0,0,0,-159 }
     },
     380
   },{
     2,
     {
       {199,110,142,50,0,0,0,-165 },
       {282,-110,86,-134,268,-918,-266,-129 }
     },
     360
   },{
     3,
     {
       {199,150,142,50,0,0,24,-155 },
       {282,-110,86,-134,-380,-788,-266,-129 }
     },
     340
   },{
     4,
     {
       {199,150,142,50,0,0,24,-145 },
       {282,-110,86,-134,-380,-788,-266,-129 }
     },
     340
   },{
     5,
     {
       {-349,92,55,50,-55,423,285,-175 },
       {-474,-110,-74,-134,346,-866,21,-129 }
     },
     140
   },{
     6,
     {
       {-610,22,52,65,4,423,285,-162 },
       {-422,-190,-132,-128,711,-240,-214,10 }
     },
     180
   },{
     7,
     {
       {-610,22,52,65,4,423,285,-158 },
       {-422,-190,-132,-128,711,-240,-214,10 }
     },
     480
   },{
     8,
     {
       {-377,148,237,50,-229,579,322,-158 },
       {-422,-190,-132,-83,466,-853,252,10 }
     },
     480
   },{
     9,
     {
       {199,148,142,50,-57,0,0,-135 },
       {282,-42,125,-51,268,-475,-110,-129 }
     },
     540
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },
 },
 23,
 "LKick" ,
},{
 16,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,-9,-21,20,0,0,0,-10 },
       {-10,9,21,30,0,0,0,0 }
     },
     200
   },{
     2,
     {
       {0,21,-31,150,-268,605,294,140 },
       {0,-21,31,120,-130,0,-110,140 }
     },
     200
   },{
     3,
     {
       {185,51,-29,140,-535,512,27,102 },
       {142,-31,19,140,-120,0,-130,105 }
     },
     110
   },{
     4,
     {
       {185,-9,-39,-50,-325,432,177,-58 },
       {142,-41,29,-50,-240,-90,-360,-85 }
     },
     130
   },{
     5,
     {
       {0,21,31,-120,130,0,110,-140 },
       {0,-21,-31,-150,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-142,31,19,-140,120,0,130,-105 },
       {-185,-51,-29,-140,535,-512,-27,-102 }
     },
     100
   },{
     7,
     {
       {-142,41,29,50,240,90,360,85 },
       {-185,9,-39,50,325,-432,-177,58 }
     },
     120
   },{
     8,
     {
       {0,21,-31,150,-268,605,294,140 },
       {0,-21,31,120,-130,0,-110,140 }
     },
     210
   },{
     9,
     {
       {185,51,-29,140,-535,512,27,102 },
       {142,-31,19,140,-120,0,-130,105 }
     },
     130
   },{
     10,
     {
       {185,-9,-39,-50,-325,432,177,-58 },
       {142,-41,29,-50,-240,-90,-360,-85 }
     },
     150
   },{
     11,
     {
       {0,21,31,-120,130,0,110,-140 },
       {0,-21,-31,-150,268,-605,-294,-140 }
     },
     240
   },{
     12,
     {
       {-142,31,19,-140,120,0,130,-105 },
       {-185,-51,-29,-140,535,-512,-27,-102 }
     },
     160
   },{
     13,
     {
       {-142,41,29,50,240,90,360,85 },
       {-185,9,-39,50,325,-432,-177,58 }
     },
     180
   },{
     14,
     {
       {0,1,-79,80,-108,245,84,80 },
       {0,-21,-31,40,0,0,0,80 }
     },
     180
   },{
     15,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     240
   },
 },
 24,
 "Long Dribble" ,
},{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {83,110,0,64,0,0,0,159 },
       {114,0,0,0,0,0,0,157 }
     },
     380
   },{
     2,
     {
       {-282,110,-86,134,-268,918,266,129 },
       {-199,-110,-142,0,0,0,0,165 }
     },
     360
   },{
     3,
     {
       {-282,110,-86,134,380,788,266,129 },
       {-199,-150,-142,0,0,0,-24,155 }
     },
     340
   },{
     4,
     {
       {-282,110,-86,134,380,788,266,129 },
       {-199,-150,-142,0,0,0,-24,145 }
     },
     340
   },{
     5,
     {
       {474,110,74,134,-346,866,-21,129 },
       {349,-92,-55,0,-4,-423,-285,175 }
     },
     140
   },{
     6,
     {
       {422,190,132,128,-711,240,214,-10 },
       {610,-22,-52,0,0,-579,-322,162 }
     },
     180
   },{
     7,
     {
       {422,190,132,128,-711,240,214,-10 },
       {610,-22,-52,0,0,-579,-322,158 }
     },
     480
   },{
     8,
     {
       {422,190,132,83,-466,853,-252,-10 },
       {377,-148,-237,0,229,-579,-322,158 }
     },
     480
   },{
     9,
     {
       {-282,42,-125,51,-268,475,110,129 },
       {-199,-148,-142,0,57,0,0,135 }
     },
     540
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },
 },
 25,
 "RKick" ,
},{
 15,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     200
   },{
     2,
     {
       {0,322,557,20,0,0,0,60 },
       {0,-322,-557,20,0,0,0,60 }
     },
     200
   },{
     3,
     {
       {0,322,557,35,-181,354,157,37 },
       {0,-322,-557,39,0,0,13,76 }
     },
     200
   },{
     4,
     {
       {0,322,557,165,-111,214,87,127 },
       {0,-322,-557,39,0,0,13,46 }
     },
     200
   },{
     5,
     {
       {0,322,557,159,-178,302,155,97 },
       {0,-322,-557,19,90,-127,-50,-60 }
     },
     200
   },{
     6,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     200
   },{
     7,
     {
       {0,627,557,38,-522,948,500,60 },
       {0,-627,-557,-38,522,-866,-435,-60 }
     },
     400
   },{
     8,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     400
   },{
     9,
     {
       {0,628,557,38,-522,948,500,60 },
       {0,-627,-557,-38,522,-866,-435,-60 }
     },
     400
   },{
     10,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     400
   },{
     11,
     {
       {0,322,557,-85,-86,127,50,-80 },
       {0,-322,-557,-182,50,-16,45,-204 }
     },
     200
   },{
     12,
     {
       {0,322,557,-39,-86,127,50,-57 },
       {0,-322,-557,-39,214,-408,-194,-97 }
     },
     200
   },{
     13,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     200
   },{
     14,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     200
   },
 },
 32,
 "Dance RStep" ,
},{
 7,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     600
   },{
     2,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     600
   },{
     3,
     {
       {0,322,557,7,0,0,0,-24 },
       {0,-774,647,2,0,0,0,-5 }
     },
     1000
   },{
     4,
     {
       {0,322,557,216,0,0,0,194 },
       {0,-643,569,196,0,0,0,189 }
     },
     1000
   },{
     5,
     {
       {0,322,557,216,0,0,0,194 },
       {0,-643,569,196,0,0,0,189 }
     },
     1600
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 33,
 "Dance Finish Pose" ,
},{
 9,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,0,-217,620,403,0 },
       {0,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     2,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },{
     3,
     {
       {0,322,557,0,-217,620,403,0 },
       {0,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     4,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },{
     5,
     {
       {636,322,557,0,-217,620,403,0 },
       {569,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },{
     7,
     {
       {-569,322,557,0,-217,620,403,0 },
       {-636,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     8,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 34,
 "Dance Up & Down" ,
},{
 20,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,-116,0,0,0,-94 },
       {0,-322,-557,-116,0,0,0,-94 }
     },
     600
   },{
     2,
     {
       {0,322,557,116,0,0,0,94 },
       {0,-322,-557,116,0,0,0,94 }
     },
     600
   },{
     3,
     {
       {0,322,557,-116,0,0,0,-94 },
       {0,-322,-557,-116,0,0,0,-94 }
     },
     600
   },{
     4,
     {
       {0,322,557,116,0,0,0,94 },
       {0,-322,-557,116,0,0,0,94 }
     },
     600
   },{
     5,
     {
       {0,322,557,-116,0,0,0,-94 },
       {0,-322,-557,-116,0,0,0,-94 }
     },
     600
   },{
     6,
     {
       {0,322,557,116,0,0,0,94 },
       {0,-322,-557,116,0,0,0,94 }
     },
     600
   },{
     7,
     {
       {0,322,557,-116,0,0,0,-94 },
       {0,-322,-557,-116,0,0,0,-94 }
     },
     600
   },{
     8,
     {
       {0,322,557,116,0,0,0,94 },
       {0,-322,-557,116,0,0,0,94 }
     },
     600
   },{
     9,
     {
       {0,322,557,-116,0,0,0,-94 },
       {0,-322,-557,-116,0,0,0,-94 }
     },
     600
   },{
     10,
     {
       {0,322,557,116,0,0,0,94 },
       {0,-643,569,116,0,0,0,94 }
     },
     600
   },{
     11,
     {
       {0,322,557,-99,157,0,131,-84 },
       {0,-322,-557,-109,-177,0,-120,-103 }
     },
     580
   },{
     12,
     {
       {0,322,557,-99,-139,0,-95,-84 },
       {0,-322,-557,-109,119,0,81,-81 }
     },
     580
   },{
     13,
     {
       {0,322,557,110,-139,0,-95,125 },
       {0,-322,-557,114,119,0,81,101 }
     },
     580
   },{
     14,
     {
       {0,322,557,110,157,0,131,125 },
       {0,-322,-557,114,-177,0,-120,101 }
     },
     580
   },{
     15,
     {
       {0,324,-56,-99,157,0,131,-84 },
       {0,-747,308,-109,-177,0,-120,-103 }
     },
     580
   },{
     16,
     {
       {0,768,-317,-99,-139,0,-95,-84 },
       {0,-278,99,-109,119,0,81,-81 }
     },
     580
   },{
     17,
     {
       {0,324,-56,110,-139,0,-95,125 },
       {0,-747,308,114,119,0,81,101 }
     },
     580
   },{
     18,
     {
       {0,768,-317,110,157,0,131,125 },
       {0,-278,99,114,-177,0,-120,101 }
     },
     580
   },{
     19,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 35,
 "Wiggle Dance" ,
},{
 12,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     440
   },{
     2,
     {
       {0,0,0,-100,0,0,0,-100 },
       {0,0,0,-84,152,-388,-199,-84 }
     },
     220
   },{
     3,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-100,-116,-223,-84 }
     },
     400
   },{
     4,
     {
       {147,628,556,-100,-555,882,359,-100 },
       {202,-625,-555,-84,562,-939,-415,-84 }
     },
     400
   },{
     5,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-11,-116,-152,-84 }
     },
     400
   },{
     6,
     {
       {147,627,558,-100,-555,882,359,-100 },
       {202,-625,-557,-84,562,-939,-415,-84 }
     },
     400
   },{
     7,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-100,-116,-223,-84 }
     },
     400
   },{
     8,
     {
       {69,0,0,100,-373,340,-17,122 },
       {72,0,0,84,0,0,0,84 }
     },
     200
   },{
     9,
     {
       {0,0,0,100,-102,298,159,150 },
       {0,0,0,84,0,0,0,94 }
     },
     200
   },{
     10,
     {
       {0,0,0,100,0,0,0,100 },
       {0,0,0,84,0,0,0,84 }
     },
     200
   },{
     11,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     440
   },
 },
 36,
 "Dance BStep" ,
},{
 4,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-517,177,516,0,-403,0,-130,0 },
       {-560,-136,-516,0,403,0,130,0 }
     },
     1000
   },{
     2,
     {
       {-517,177,516,0,-403,0,-130,0 },
       {-560,-136,-516,0,403,0,130,0 }
     },
     3060
   },{
     3,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1140
   },
 },
 37,
 "Dance Bow" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,0,-217,620,403,0 },
       {0,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     2,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },{
     3,
     {
       {0,322,557,0,-217,620,403,0 },
       {0,-322,-557,0,217,-620,-403,0 }
     },
     600
   },{
     4,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },{
     5,
     {
       {-374,92,-4,0,-217,620,403,0 },
       {797,-92,-4,0,217,-620,-403,0 }
     },
     600
   },{
     6,
     {
       {-795,95,4,0,-217,620,403,0 },
       {371,-89,4,0,217,-620,-403,0 }
     },
     600
   },{
     7,
     {
       {-374,92,-4,0,-217,620,403,0 },
       {797,-92,-4,0,217,-620,-403,0 }
     },
     600
   },{
     8,
     {
       {-795,95,4,0,-217,620,403,0 },
       {371,-89,4,0,217,-620,-403,0 }
     },
     600
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 38,
 "Twist Dance" ,
},{
 6,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,100,488,-130,-50,308,284,-160 },
       {-443,-100,-488,-220,409,-704,-212,-190 }
     },
     980
   },{
     2,
     {
       {443,619,-449,-130,347,464,366,-235 },
       {-424,-523,438,19,624,6,418,-10 }
     },
     1240
   },{
     3,
     {
       {443,619,-449,-130,347,464,366,-235 },
       {-424,-523,438,19,624,6,418,-10 }
     },
     1240
   },{
     4,
     {
       {443,100,488,-130,-50,308,284,-160 },
       {-443,-100,-488,-220,409,-704,-212,-190 }
     },
     980
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 40,
 "Ina Bauer LFoot" ,
},{
 2,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     800
   },{
     1,
     {
       {-2,130,255,50,-3,236,182,70 },
       {12,-166,-297,-50,10,-238,-174,-70 }
     },
     660
   },
 },
 41,
 "Brake for Forward" ,
},{
 14,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     220
   },{
     3,
     {
       {185,111,119,140,-385,402,27,102 },
       {142,-111,-119,140,0,0,0,105 }
     },
     220
   },{
     4,
     {
       {147,111,119,-140,-255,298,96,-140 },
       {281,-111,-119,-140,15,-165,-227,-140 }
     },
     380
   },{
     5,
     {
       {0,111,119,-120,0,0,0,-140 },
       {0,-111,-119,-150,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-142,111,119,-140,0,0,0,-105 },
       {-185,-111,-119,-140,385,-402,-27,-102 }
     },
     220
   },{
     7,
     {
       {-281,111,119,1,-15,165,227,1 },
       {-147,-111,-119,1,255,-298,-96,1 }
     },
     360
   },{
     8,
     {
       {-281,111,119,1,-290,823,547,1 },
       {-147,-111,-119,1,625,-819,-229,1 }
     },
     600
   },{
     9,
     {
       {-629,314,27,1,-94,823,547,1 },
       {629,-317,-25,1,412,-819,-229,1 }
     },
     800
   },{
     10,
     {
       {-629,314,27,1,-94,823,547,1 },
       {629,-317,-25,1,412,-819,-229,1 }
     },
     1400
   },{
     11,
     {
       {-281,111,119,140,-15,165,227,140 },
       {-147,-111,-119,140,255,-298,-96,140 }
     },
     800
   },{
     12,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     200
   },{
     13,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 5,
 "Propose" ,
},{
 12,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-570,551,0,0,0,0,0,0 },
       {589,-513,0,0,0,0,0,0 }
     },
     800
   },{
     2,
     {
       {-570,551,0,0,0,0,0,0 },
       {589,-513,0,0,0,0,0,0 }
     },
     400
   },{
     3,
     {
       {-570,309,355,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     800
   },{
     4,
     {
       {-570,309,355,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     800
   },{
     5,
     {
       {-570,309,-33,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     400
   },{
     6,
     {
       {-570,309,520,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     300
   },{
     7,
     {
       {-570,309,-33,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     300
   },{
     8,
     {
       {-570,309,520,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     300
   },{
     9,
     {
       {-570,309,520,0,0,0,0,0 },
       {570,-309,-355,0,0,0,0,0 }
     },
     600
   },{
     10,
     {
       {-570,309,242,0,0,0,0,0 },
       {570,-309,-242,0,0,0,0,0 }
     },
     600
   },{
     11,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 6,
 "Hug" ,
},{
 20,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-700,0,0,0,0,0,0,0 },
       {700,0,0,0,0,0,0,0 }
     },
     500
   },{
     2,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     3,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     4,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     5,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     6,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     7,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     8,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     9,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     10,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     11,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     12,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     13,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     14,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     15,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     16,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     17,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     18,
     {
       {-700,160,200,0,0,0,0,0 },
       {700,-160,-200,0,0,0,0,0 }
     },
     400
   },{
     19,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     800
   },
 },
 7,
 "Clap" ,
},{
 7,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-1085,318,0,0,0,0,0,0 },
       {0,-300,0,0,0,0,0,0 }
     },
     1000
   },{
     2,
     {
       {-1085,-21,0,0,0,0,0,0 },
       {0,-305,0,0,0,0,0,0 }
     },
     800
   },{
     3,
     {
       {-1085,-21,315,0,0,0,0,0 },
       {0,-306,0,0,0,0,0,0 }
     },
     100
   },{
     4,
     {
       {-1085,-21,315,0,0,0,0,0 },
       {0,-301,0,0,0,0,0,0 }
     },
     1000
   },{
     5,
     {
       {-1085,-21,9,0,0,0,0,0 },
       {0,-299,0,0,0,0,0,0 }
     },
     400
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 8,
 "High-five" ,
},{
 7,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {608,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-376,-16,329,0,0,0,0,0 },
       {377,16,-329,0,0,0,0,0 }
     },
     460
   },{
     2,
     {
       {-376,-16,329,0,0,0,0,0 },
       {377,16,-329,0,0,0,0,0 }
     },
     460
   },{
     3,
     {
       {-618,-84,144,0,0,0,0,0 },
       {465,92,-337,0,0,0,0,0 }
     },
     220
   },{
     4,
     {
       {-711,-59,594,0,0,0,0,0 },
       {265,-230,-67,0,0,0,0,0 }
     },
     200
   },{
     5,
     {
       {-126,146,269,0,0,0,0,0 },
       {127,-136,-105,0,0,0,0,0 }
     },
     440
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },
 },
 16,
 "Throw a Box" ,
},{
 6,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,0,-326,0,-64,0 },
       {621,16,-329,0,326,0,64,0 }
     },
     700
   },{
     2,
     {
       {-621,-16,329,0,-327,0,-64,0 },
       {621,16,-329,0,327,0,64,0 }
     },
     520
   },{
     3,
     {
       {-621,-14,-6,0,-323,0,-64,0 },
       {621,14,6,0,323,0,64,0 }
     },
     260
   },{
     4,
     {
       {-297,-14,-6,0,-80,0,-3,0 },
       {297,14,6,0,80,0,3,0 }
     },
     260
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     440
   },
 },
 17,
 "Put Down High" ,
},{
 5,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-641,-16,329,0,-699,75,-351,0 },
       {641,16,-329,0,699,-75,351,0 }
     },
     700
   },{
     2,
     {
       {-657,-16,329,0,-699,-105,-282,0 },
       {657,16,-329,0,699,105,282,0 }
     },
     700
   },{
     3,
     {
       {-657,16,19,0,-699,-105,-282,0 },
       {658,-36,-55,0,734,44,217,0 }
     },
     700
   },{
     4,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },
 },
 18,
 "Put Down Low" ,
},{
 8,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,-20,0,0,0,-60 },
       {0,0,0,-20,0,0,0,-60 }
     },
     300
   },{
     2,
     {
       {-599,549,0,-39,0,0,-13,-76 },
       {596,-550,0,-35,181,-354,-157,-37 }
     },
     300
   },{
     3,
     {
       {-600,549,0,-39,0,0,-13,-46 },
       {599,-550,0,-165,111,-214,-87,-127 }
     },
     300
   },{
     4,
     {
       {-601,552,0,-39,-90,127,50,30 },
       {601,-550,0,-159,178,-302,-155,-97 }
     },
     300
   },{
     5,
     {
       {-600,551,0,182,-50,16,-45,204 },
       {600,-548,0,65,86,-127,-50,80 }
     },
     300
   },{
     6,
     {
       {-600,550,0,39,-214,408,194,97 },
       {600,-549,0,39,86,-127,-50,57 }
     },
     300
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     300
   },
 },
 20,
 "Defense LStep" ,
},
 {
 6,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,-9,-21,20,0,0,0,-10 },
       {-10,9,21,30,0,0,0,0 }
     },
     180
   },{
     2,
     {
       {0,21,-31,150,-268,605,294,140 },
       {0,-21,31,120,-130,0,-110,140 }
     },
     180
   },{
     3,
     {
       {185,51,-29,140,-535,512,27,102 },
       {142,-31,19,140,-120,0,-130,105 }
     },
     100
   },{
     4,
     {
       {185,-9,-39,-50,-325,432,177,-58 },
       {142,-41,29,-50,-240,-90,-360,-85 }
     },
     120
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     180
   },
 },
 21,
 "Dribble" ,
},{
 8,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,20,0,0,0,60 },
       {0,0,0,20,0,0,0,60 }
     },
     300
   },{
     2,
     {
       {-596,550,0,35,-181,354,157,37 },
       {599,-549,0,39,0,0,13,76 }
     },
     300
   },{
     3,
     {
       {-599,550,0,165,-111,214,87,127 },
       {600,-549,0,39,0,0,13,46 }
     },
     300
   },{
     4,
     {
       {-601,550,0,159,-178,302,155,97 },
       {601,-552,0,39,90,-127,-50,-30 }
     },
     300
   },{
     5,
     {
       {-600,548,0,-65,-86,127,50,-80 },
       {600,-551,0,-182,50,-16,45,-204 }
     },
     300
   },{
     6,
     {
       {-600,549,0,-39,-86,127,50,-57 },
       {600,-550,0,-39,214,-408,-194,-97 }
     },
     300
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     300
   },
 },
 22,
 "Defense RStep" ,
},{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     700
   },{
     2,
     {
       {-715,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     500
   },{
     3,
     {
       {-715,5,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     500
   },{
     4,
     {
       {-715,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     500
   },{
     5,
     {
       {-715,5,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     500
   },{
     6,
     {
       {-715,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     600
   },{
     7,
     {
       {0,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     700
   },{
     8,
     {
       {0,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     1000
   },{
     9,
     {
       {0,440,772,0,211,0,0,0 },
       {0,-440,-772,0,-211,0,0,0 }
     },
     1000
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 3,
 "A-hem" ,
},{
 6,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-745,460,-165,0,184,0,0,0 },
       {745,-460,165,0,-184,0,0,0 }
     },
     600
   },{
     2,
     {
       {-745,460,-165,0,184,0,0,0 },
       {745,-460,165,0,-184,0,0,0 }
     },
     600
   },{
     3,
     {
       {134,0,0,0,-607,129,-148,0 },
       {-134,0,0,0,607,-129,148,0 }
     },
     1000
   },{
     4,
     {
       {134,0,0,0,-607,129,-148,0 },
       {-134,0,0,0,607,-129,148,0 }
     },
     800
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 4,
 "Bow" ,
},{
 10,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,140,0,0,0,140 },
       {621,16,-329,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     180
   },{
     3,
     {
       {-621,-16,329,140,-385,402,27,102 },
       {621,16,-329,140,0,0,0,105 }
     },
     220
   },{
     4,
     {
       {-621,-16,329,-140,-255,298,96,-140 },
       {621,16,-329,-140,15,-165,-227,-140 }
     },
     380
   },{
     5,
     {
       {-621,-16,329,-120,0,0,0,-140 },
       {621,16,-329,-150,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-621,-16,329,-140,0,0,0,-105 },
       {621,16,-329,-140,385,-402,-27,-102 }
     },
     220
   },{
     7,
     {
       {-621,-16,329,140,-15,165,227,140 },
       {621,16,-329,140,255,-298,-96,140 }
     },
     360
   },{
     8,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     180
   },{
     9,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     580
   },
 },
 74,
 "Carry Forward" ,
},{
 10,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,140,0,0,0,140 },
       {621,16,-329,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {-621,-16,329,160,-164,284,135,245 },
       {621,16,-329,30,0,0,70,110 }
     },
     400
   },{
     4,
     {
       {-621,-16,329,-10,-64,64,35,-35 },
       {621,16,-329,-70,0,0,30,-150 }
     },
     400
   },{
     5,
     {
       {-621,-16,329,-50,-64,64,35,-105 },
       {621,16,-329,-120,223,-453,-201,-190 }
     },
     400
   },{
     6,
     {
       {-621,-16,329,-50,-64,64,35,-105 },
       {621,16,-329,-120,223,-453,-201,-190 }
     },
     400
   },{
     7,
     {
       {-621,-16,329,60,-20,0,10,100 },
       {621,16,-329,60,0,0,20,90 }
     },
     380
   },{
     8,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     280
   },{
     9,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     580
   },
 },
 75,
 "Carry LTurn" ,
},{
 10,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,140,0,0,0,140 },
       {621,16,-329,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {-621,-16,329,160,-224,444,215,245 },
       {621,16,-329,120,0,0,-40,130 }
     },
     400
   },{
     4,
     {
       {-621,-16,294,-32,-124,236,157,-97 },
       {621,16,-329,-87,0,0,42,-163 }
     },
     360
   },{
     5,
     {
       {-621,-16,329,-32,-124,236,137,-137 },
       {621,16,-329,-27,326,-464,-49,-163 }
     },
     500
   },{
     6,
     {
       {-621,-16,329,-32,-124,236,127,-137 },
       {621,16,-329,-66,275,-464,-179,-264 }
     },
     220
   },{
     7,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     280
   },{
     8,
     {
       {-621,-16,329,120,0,0,0,160 },
       {621,16,-329,120,0,0,0,150 }
     },
     320
   },{
     9,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     580
   },
 },
 76,
 "Carry RTurn" ,
},{
 10,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,140,0,0,0,140 },
       {621,16,-329,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     360
   },{
     3,
     {
       {-621,-16,329,140,-15,165,188,140 },
       {621,16,-329,140,160,-99,-2,140 }
     },
     360
   },{
     4,
     {
       {-621,-16,329,-140,0,0,0,-105 },
       {621,16,-329,-151,385,-402,-27,-156 }
     },
     360
   },{
     5,
     {
       {-621,-16,329,-140,0,0,0,-140 },
       {621,16,-329,-158,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-621,-16,329,-140,-160,99,2,-140 },
       {621,16,-329,-140,15,-165,-188,-140 }
     },
     360
   },{
     7,
     {
       {-621,-16,329,151,-385,402,27,156 },
       {621,16,-329,140,0,0,0,105 }
     },
     360
   },{
     8,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     180
   },{
     9,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     580
   },
 },
 77,
 "Carry Back" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,150,228,140,-89,164,92,190 },
       {-443,-150,-248,130,30,-98,-94,140 }
     },
     360
   },{
     2,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     360
   },{
     3,
     {
       {443,100,488,0,-93,310,239,49 },
       {-443,-100,-488,-40,94,-309,-229,-70 }
     },
     240
   },{
     4,
     {
       {443,100,488,-86,-358,738,435,-108 },
       {-443,-100,-488,-219,-84,-153,-310,-282 }
     },
     280
   },{
     5,
     {
       {443,100,488,-130,-50,308,284,-160 },
       {-443,-100,-488,-220,409,-704,-212,-190 }
     },
     360
   },{
     6,
     {
       {443,100,488,40,-94,309,229,70 },
       {-443,-100,-488,0,93,-310,-239,-49 }
     },
     240
   },{
     7,
     {
       {443,100,488,219,84,153,310,282 },
       {-443,-100,-488,86,358,-738,-435,108 }
     },
     280
   },{
     8,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     360
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     400
   },
 },
 78,
 "Skating Forward" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {0,131,94,160,-164,284,135,245 },
       {0,-86,-80,30,0,0,70,110 }
     },
     400
   },{
     4,
     {
       {0,131,94,-10,-64,64,35,-35 },
       {0,-86,-80,-70,0,0,30,-150 }
     },
     400
   },{
     5,
     {
       {0,131,94,-50,-64,64,35,-105 },
       {0,-86,-80,-120,223,-453,-201,-190 }
     },
     400
   },{
     6,
     {
       {0,131,94,-50,-64,64,35,-105 },
       {0,-86,-80,-120,223,-453,-201,-190 }
     },
     400
   },{
     7,
     {
       {0,120,125,60,-20,0,10,100 },
       {0,-36,0,60,0,0,20,90 }
     },
     380
   },{
     8,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     280
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 79,
 "Skating LTurn" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,-90,0,0,0,-100 },
       {0,0,0,-80,0,0,0,-90 }
     },
     200
   },{
     2,
     {
       {-152,30,0,-130,0,0,0,-190 },
       {-138,-70,0,-259,440,-810,-335,-80 }
     },
     200
   },{
     3,
     {
       {-152,30,0,0,-90,320,200,-170 },
       {-138,-70,0,-259,531,-445,116,-424 }
     },
     200
   },{
     4,
     {
       {-152,30,0,0,-90,320,200,-180 },
       {-138,-70,0,-259,531,43,116,-424 }
     },
     200
   },{
     5,
     {
       {-152,30,0,-230,20,122,-30,-140 },
       {-138,-70,0,63,711,-445,116,-424 }
     },
     200
   },{
     6,
     {
       {-152,30,0,-230,20,122,-30,-140 },
       {-138,-70,0,63,711,-445,116,-424 }
     },
     440
   },{
     7,
     {
       {-152,30,0,60,-80,262,50,-74 },
       {-138,-70,0,63,531,-445,116,-424 }
     },
     200
   },{
     8,
     {
       {-152,30,0,60,-80,262,50,-74 },
       {-138,-70,0,-48,29,-311,-191,-102 }
     },
     200
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     300
   },
 },
 28,
 "Pass to Right" ,
},{
 15,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     200
   },{
     2,
     {
       {0,322,557,-20,0,0,0,-60 },
       {0,-322,-557,-20,0,0,0,-60 }
     },
     200
   },{
     3,
     {
       {0,322,557,-39,0,0,-13,-76 },
       {0,-322,-557,-35,181,-354,-157,-37 }
     },
     200
   },{
     4,
     {
       {0,322,557,-39,0,0,-13,-46 },
       {0,-322,-557,-165,111,-214,-87,-127 }
     },
     200
   },{
     5,
     {
       {0,322,557,-19,-90,127,50,60 },
       {0,-322,-557,-159,178,-302,-155,-97 }
     },
     200
   },{
     6,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     200
   },{
     7,
     {
       {0,627,557,38,-522,948,500,60 },
       {0,-627,-557,-38,522,-866,-435,-60 }
     },
     400
   },{
     8,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     400
   },{
     9,
     {
       {0,628,557,38,-522,948,500,60 },
       {0,-627,-557,-38,522,-866,-435,-60 }
     },
     400
   },{
     10,
     {
       {0,322,557,38,-90,127,50,60 },
       {0,-322,-557,-38,90,-127,-50,-60 }
     },
     400
   },{
     11,
     {
       {0,322,557,182,-50,16,-45,204 },
       {0,-322,-557,85,86,-127,-50,80 }
     },
     200
   },{
     12,
     {
       {0,322,557,39,-214,408,194,97 },
       {0,-322,-557,39,86,-127,-50,57 }
     },
     200
   },{
     13,
     {
       {0,322,557,0,0,0,0,0 },
       {0,-322,-557,0,0,0,0,0 }
     },
     200
   },{
     14,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     200
   },
 },
 30,
 "Dance LStep" ,
},{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,100,0,0,0,100 },
       {0,0,0,84,0,0,0,84 }
     },
     200
   },{
     2,
     {
       {0,0,0,100,-102,298,159,150 },
       {0,0,0,84,0,0,0,94 }
     },
     200
   },{
     3,
     {
       {69,0,0,100,-373,340,-17,122 },
       {72,0,0,84,0,0,0,84 }
     },
     200
   },{
     4,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-11,-116,-152,-84 }
     },
     400
   },{
     5,
     {
       {147,627,558,-100,-555,882,359,-100 },
       {202,-625,-557,-84,562,-939,-415,-84 }
     },
     400
   },{
     6,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-11,-116,-152,-84 }
     },
     400
   },{
     7,
     {
       {147,628,556,-100,-555,882,359,-100 },
       {202,-625,-555,-84,562,-939,-415,-84 }
     },
     400
   },{
     8,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-11,-116,-152,-84 }
     },
     400
   },{
     9,
     {
       {0,0,0,-100,0,0,0,-100 },
       {0,0,0,-84,152,-388,-199,-84 }
     },
     220
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     440
   },
 },
 31,
 "Dance FStep" ,
},{
 8,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,20,0,0,0,60 },
       {0,0,0,20,0,0,0,60 }
     },
     140
   },{
     2,
     {
       {0,31,0,35,-181,354,157,37 },
       {0,-36,0,39,0,0,13,76 }
     },
     140
   },{
     3,
     {
       {0,31,0,165,-111,214,87,127 },
       {0,-36,0,39,0,0,13,46 }
     },
     140
   },{
     4,
     {
       {0,91,0,159,-178,302,155,97 },
       {0,-61,0,39,90,-127,-50,-30 }
     },
     140
   },{
     5,
     {
       {0,0,0,-65,-86,127,50,-80 },
       {0,-96,0,-182,50,-16,45,-204 }
     },
     140
   },{
     6,
     {
       {0,0,0,-39,-86,127,50,-57 },
       {0,0,0,-39,214,-408,-194,-97 }
     },
     160
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     180
   },
 },
 2,
 "RStep" ,
},{
 6,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     980
   },{
     2,
     {
       {424,523,-438,-19,-624,-6,-418,10 },
       {-443,-619,449,130,-347,-464,-366,235 }
     },
     1240
   },{
     3,
     {
       {424,523,-438,-19,-624,-6,-418,10 },
       {-443,-619,449,130,-347,-464,-366,235 }
     },
     1240
   },{
     4,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     980
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 42,
 "Ina Bauer RFoot" ,
},{
 9,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,100,488,-130,-50,308,284,-160 },
       {-443,-100,-488,-220,409,-704,-212,-190 }
     },
     880
   },{
     2,
     {
       {424,256,125,-32,-586,353,187,-141 },
       {-443,-326,-48,-205,-181,66,-31,79 }
     },
     740
   },{
     3,
     {
       {424,334,73,38,-586,-66,-139,-111 },
       {-443,-274,-22,-205,-181,66,-31,79 }
     },
     560
   },{
     4,
     {
       {14,647,-58,-12,-586,-67,-119,-134 },
       {-3,-821,-22,-205,-181,66,-31,79 }
     },
     640
   },{
     5,
     {
       {14,647,-58,-12,-586,-66,-139,-144 },
       {-3,-795,-22,-205,-181,66,-31,79 }
     },
     860
   },{
     6,
     {
       {424,308,99,-32,-586,604,351,-147 },
       {-443,-300,-126,-205,-181,66,-31,79 }
     },
     640
   },{
     7,
     {
       {443,100,488,-130,-50,308,284,-160 },
       {-443,-100,-488,-220,409,-704,-212,-190 }
     },
     760
   },{
     8,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     760
   },
 },
 43,
 "Balance on LFoot" ,
},{
 1,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 44,
 "Upright" ,
},{
 9,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     880
   },{
     2,
     {
       {443,326,48,205,181,-66,31,-79 },
       {-424,-256,-125,32,586,-353,-187,141 }
     },
     740
   },{
     3,
     {
       {443,274,22,205,181,-66,31,-79 },
       {-424,-334,-73,-38,586,66,139,111 }
     },
     560
   },{
     4,
     {
       {3,821,22,205,181,-66,31,-79 },
       {-14,-647,58,12,586,67,119,134 }
     },
     640
   },{
     5,
     {
       {3,795,22,205,181,-66,31,-79 },
       {-14,-647,58,12,586,66,139,144 }
     },
     860
   },{
     6,
     {
       {443,300,126,205,181,-66,31,-79 },
       {-424,-308,-99,32,586,-604,-351,147 }
     },
     640
   },{
     7,
     {
       {443,100,488,220,-409,704,212,190 },
       {-443,-100,-488,130,50,-308,-284,160 }
     },
     760
   },{
     8,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     760
   },
 },
 45,
 "Balance on RFoot" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },{
     1,
     {
       {443,-36,401,-130,0,40,70,-180 },
       {-424,27,-367,-210,366,-438,10,-170 }
     },
     1000
   },{
     2,
     {
       {443,-36,401,-130,364,50,230,-180 },
       {-424,27,-367,5,648,-438,10,26 }
     },
     300
   },{
     3,
     {
       {3,619,-449,-210,347,124,454,-216 },
       {-14,-648,513,239,614,-325,308,217 }
     },
     480
   },{
     4,
     {
       {3,619,-449,-200,347,114,254,-206 },
       {-14,-648,513,219,644,-375,68,217 }
     },
     320
   },{
     5,
     {
       {3,619,-449,-200,347,114,254,-206 },
       {-14,-648,513,219,644,-375,68,217 }
     },
     440
   },{
     6,
     {
       {-559,-131,-314,-64,219,-76,50,-51 },
       {-494,83,148,227,626,-544,-143,212 }
     },
     380
   },{
     7,
     {
       {-559,-131,-314,188,219,-76,50,-51 },
       {-494,83,148,227,416,6,57,212 }
     },
     420
   },{
     8,
     {
       {-72,-56,-124,72,-420,387,86,14 },
       {-189,-23,13,49,321,-344,-138,112 }
     },
     380
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },
 },
 46,
 "Heel & Toe LFoot" ,
},{
 2,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     800
   },{
     1,
     {
       {60,190,320,60,0,20,20,60 },
       {-40,-200,-320,-60,10,-20,-20,-60 }
     },
     300
   },
 },
 47,
 "Brake for Back" ,
},

{
 9,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-388,-16,329,0,0,0,0,0 },
       {388,16,-329,0,0,0,0,0 }
     },
     300
   },{
     2,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     300
   },{
     3,
     {
       {-388,-16,329,0,0,0,0,0 },
       {388,16,-329,0,0,0,0,0 }
     },
     300
   },{
     4,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     300
   },{
     5,
     {
       {-388,-16,329,0,0,0,0,0 },
       {388,16,-329,0,0,0,0,0 }
     },
     300
   },{
     6,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     300
   },{
     7,
     {
       {-388,-16,329,0,0,0,0,0 },
       {388,16,-329,0,0,0,0,0 }
     },
     300
   },{
     8,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     300
   },
 },
 10,
 "Shake a Box" ,
},{
 4,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-657,16,19,0,-489,-105,-282,0 },
       {657,-16,-19,0,489,105,282,0 }
     },
     700
   },{
     2,
     {
       {-657,-16,329,0,-489,-105,-282,0 },
       {657,16,-329,0,489,105,282,0 }
     },
     700
   },{
     3,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     900
   },
 },
 11,
 "Pick Up High" ,
},{
 5,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-657,16,19,0,-699,-105,-282,0 },
       {658,-36,-55,0,734,44,217,0 }
     },
     700
   },{
     2,
     {
       {-657,-16,329,0,-699,-105,-282,0 },
       {657,16,-329,0,699,105,282,0 }
     },
     700
   },{
     3,
     {
       {-641,-16,329,0,-699,75,-351,0 },
       {641,16,-329,0,699,-75,351,0 }
     },
     700
   },{
     4,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     900
   },
 },
 12,
 "Pick Up Low" ,
},{
 3,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,196,-61,0,0,0,0,0 },
       {621,-196,61,0,0,0,0,0 }
     },
     600
   },{
     2,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     600
   },
 },
 13,
 "Receive a Box" ,
},{
 15,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,140,0,0,0,140 },
       {621,16,-329,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {-621,-16,329,150,-268,605,294,140 },
       {621,16,-329,120,0,0,0,140 }
     },
     220
   },{
     3,
     {
       {-621,-16,329,140,-385,402,27,102 },
       {621,16,-329,140,0,0,0,105 }
     },
     220
   },{
     4,
     {
       {-621,-16,329,-140,-255,298,96,-140 },
       {621,16,-329,-140,15,-165,-227,-140 }
     },
     380
   },{
     5,
     {
       {-621,-16,329,-120,0,0,0,-140 },
       {621,16,-329,-150,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-621,-16,329,-140,0,0,0,-105 },
       {621,16,-329,-140,385,-402,-27,-102 }
     },
     220
   },{
     7,
     {
       {-621,-16,329,1,-15,165,227,1 },
       {621,16,-329,1,255,-298,-96,1 }
     },
     360
   },{
     8,
     {
       {-621,-16,329,1,-290,823,547,1 },
       {621,16,-329,1,625,-819,-229,1 }
     },
     600
   },{
     9,
     {
       {-621,-16,329,1,-94,823,547,1 },
       {621,16,-329,1,412,-819,-229,1 }
     },
     800
   },{
     10,
     {
       {-621,-16,329,1,-94,823,547,1 },
       {621,16,-329,1,412,-819,-229,1 }
     },
     1400
   },{
     11,
     {
       {-629,314,27,1,-94,823,547,1 },
       {629,-317,-25,1,412,-819,-229,1 }
     },
     800
   },{
     12,
     {
       {-281,111,119,140,-15,165,227,140 },
       {-147,-111,-119,140,255,-298,-96,140 }
     },
     800
   },{
     13,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     200
   },{
     14,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 14,
 "Present a Box" ,
},{
 9,
 { {
     0,
     {
       {-621,-16,329,0,0,0,0,0 },
       {621,16,-329,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {-621,-16,329,0,224,0,0,0 },
       {621,16,-329,0,-224,0,0,0 }
     },
     600
   },{
     2,
     {
       {-388,-16,329,0,223,0,0,0 },
       {388,16,-329,0,-223,0,0,0 }
     },
     300
   },{
     3,
     {
       {-621,-16,329,0,224,0,0,0 },
       {621,16,-329,0,-224,0,0,0 }
     },
     300
   },{
     4,
     {
       {-388,-16,329,0,223,0,0,0 },
       {388,16,-329,0,-223,0,0,0 }
     },
     300
   },{
     5,
     {
       {-621,-16,329,0,224,0,0,0 },
       {621,16,-329,0,-224,0,0,0 }
     },
     300
   },{
     6,
     {
       {-621,-16,329,0,224,0,0,0 },
       {621,16,-329,0,-224,0,0,0 }
     },
     1800
   },{
     7,
     {
       {-621,196,-61,0,224,0,0,0 },
       {621,-196,61,0,-224,0,0,0 }
     },
     600
   },{
     8,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     600
   },
 },
 15,
 "Pass a Box" ,
},{
 7,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,100,0,0,0,100 },
       {0,0,0,84,0,0,0,84 }
     },
     200
   },{
     2,
     {
       {0,0,0,100,-102,298,159,150 },
       {0,0,0,84,0,0,0,94 }
     },
     220
   },{
     3,
     {
       {69,0,0,100,-256,336,69,122 },
       {72,0,0,84,0,0,0,84 }
     },
     260
   },{
     4,
     {
       {147,0,0,-100,-126,128,27,-100 },
       {202,0,0,-84,-11,-116,-152,-84 }
     },
     420
   },{
     5,
     {
       {0,0,0,-100,0,0,0,-100 },
       {0,0,0,-84,152,-388,-199,-84 }
     },
     220
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     440
   },
 },
 1,
 "FStep" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,80,0,0,0,90 },
       {0,0,0,90,0,0,0,100 }
     },
     200
   },{
     2,
     {
       {138,70,0,259,-440,810,335,80 },
       {152,-30,0,130,0,0,0,190 }
     },
     200
   },{
     3,
     {
       {138,70,0,259,-531,445,-116,424 },
       {152,-30,0,0,90,-320,-200,170 }
     },
     200
   },{
     4,
     {
       {138,70,0,259,-531,-43,-116,424 },
       {152,-30,0,0,90,-320,-200,170 }
     },
     200
   },{
     5,
     {
       {138,70,0,-63,-711,445,-116,424 },
       {152,-30,0,230,-20,-122,30,130 }
     },
     200
   },{
     6,
     {
       {138,70,0,-63,-711,445,-116,424 },
       {152,-30,0,230,-20,-122,30,130 }
     },
     440
   },{
     7,
     {
       {138,70,0,-63,-531,445,-116,424 },
       {152,-30,0,-60,80,-262,-50,44 }
     },
     200
   },{
     8,
     {
       {138,70,0,48,-531,831,191,102 },
       {152,-30,0,-60,80,-262,-50,44 }
     },
     200
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     300
   },
 },
 26,
 "Pass to Left" ,
},{
 20,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {-700,480,0,0,0,0,0,0 },
       {701,-482,0,0,0,0,0,0 }
     },
     600
   },{
     2,
     {
       {-700,480,0,0,0,0,0,0 },
       {700,-479,0,0,0,0,0,0 }
     },
     600
   },{
     3,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     350
   },{
     4,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     5,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     6,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     7,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     8,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     9,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     10,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     11,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     12,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     13,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     14,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     15,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     16,
     {
       {-700,30,460,0,0,0,0,0 },
       {700,-30,-460,0,0,0,0,0 }
     },
     220
   },{
     17,
     {
       {-700,-156,553,0,0,0,0,0 },
       {700,156,-553,0,0,0,0,0 }
     },
     220
   },{
     18,
     {
       {-700,160,200,0,0,0,0,0 },
       {700,-160,-200,0,0,0,0,0 }
     },
     400
   },{
     19,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     800
   },
 },
 27,
 "Pass It to Me!" ,
},{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {0,131,94,160,-224,444,215,245 },
       {0,-86,-80,120,0,0,-40,130 }
     },
     400
   },{
     4,
     {
       {0,61,94,-32,-124,236,157,-97 },
       {0,-86,-80,-87,0,0,42,-163 }
     },
     360
   },{
     5,
     {
       {0,61,94,-32,-124,236,137,-137 },
       {0,-86,-80,-27,326,-464,-49,-163 }
     },
     500
   },{
     6,
     {
       {0,61,94,-32,-124,236,127,-137 },
       {0,-86,-80,-66,275,-464,-179,-264 }
     },
     220
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     280
   },{
     8,
     {
       {0,0,0,120,0,0,0,160 },
       {0,-36,0,120,0,0,0,150 }
     },
     320
   },{
     9,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     280
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 80,
 "Skating RTurn" ,
},{
 9,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {443,100,58,50,-43,306,222,70 },
       {-443,-100,-78,-50,50,-308,-214,-70 }
     },
     480
   },{
     2,
     {
       {443,100,488,230,71,190,501,290 },
       {-443,-100,-488,130,50,-308,-214,160 }
     },
     360
   },{
     3,
     {
       {443,100,488,173,266,200,408,290 },
       {-443,-100,-488,130,50,-308,-214,180 }
     },
     260
   },{
     4,
     {
       {424,203,616,-111,-163,561,338,-154 },
       {-443,-170,-668,-199,3,-175,-183,-275 }
     },
     420
   },{
     5,
     {
       {443,100,488,-130,-43,306,222,-180 },
       {-443,-100,-488,-173,-259,-202,-400,-290 }
     },
     500
   },{
     6,
     {
       {424,203,616,199,4,173,191,265 },
       {-443,-170,-668,111,170,-563,-330,154 }
     },
     420
   },{
     7,
     {
       {443,100,488,173,266,200,408,290 },
       {-443,-100,-488,130,50,-308,-214,180 }
     },
     500
   },{
     8,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     260
   },
 },
 81,
 "Skating Back" ,
},{
 7,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     500
   },{
     1,
     {
       {0,0,0,0,-371,640,422,0 },
       {0,0,0,0,371,-640,-422,0 }
     },
     700
   },{
     2,
     {
       {0,0,0,0,-371,640,422,0 },
       {0,0,0,0,371,-640,-422,0 }
     },
     300
   },{
     3,
     {
       {0,1047,-371,0,133,0,0,0 },
       {0,-1047,371,0,-133,0,0,0 }
     },
     900
   },{
     4,
     {
       {0,1047,-371,0,133,0,0,0 },
       {0,-1047,371,0,-133,0,0,0 }
     },
     2000
   },{
     5,
     {
       {0,1047,-371,0,0,0,0,0 },
       {0,-1047,371,0,0,0,0,0 }
     },
     1000
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },
 },
 83,
 "Deep Breathing" ,
},{
 5,
 { {
     0,
     {
       {0,45,33,0,-154,350,217,27 },
       {0,-176,-398,0,95,-244,-171,7 }
     },
     1000
   },{
     1,
     {
       {0,45,33,0,-154,350,217,27 },
       {0,-176,-398,0,95,-244,-171,7 }
     },
     2000
   },{
     2,
     {
       {0,176,398,-111,-150,310,171,-103 },
       {0,-45,-33,-123,47,-261,-217,-126 }
     },
     1000
   },{
     3,
     {
       {0,176,398,-111,-150,310,171,-103 },
       {0,-45,-33,-123,47,-261,-217,-126 }
     },
     2000
   },{
     4,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 84,
 "Relax (Mirror)" ,
},{
 5,
 { {
     0,
     {
       {0,176,398,-111,-150,310,171,-103 },
       {0,-45,-33,-123,47,-261,-217,-126 }
     },
     1000
   },{
     1,
     {
       {0,176,398,-111,-150,310,171,-103 },
       {0,-45,-33,-123,47,-261,-217,-126 }
     },
     2000
   },{
     2,
     {
       {0,45,33,0,-154,350,217,27 },
       {0,-176,-398,0,95,-244,-171,7 }
     },
     1000
   },{
     3,
     {
       {0,45,33,0,-154,350,217,27 },
       {0,-176,-398,0,95,-244,-171,7 }
     },
     2000
   },{
     4,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 85,
 "Relax" ,
},{
 6,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     500
   },{
     1,
     {
       {0,0,0,0,75,0,0,0 },
       {0,0,0,0,-75,0,0,0 }
     },
     1000
   },{
     2,
     {
       {0,0,0,0,75,0,0,0 },
       {0,0,0,0,-75,0,0,0 }
     },
     1000
   },{
     3,
     {
       {83,0,0,0,-79,0,0,0 },
       {-83,0,0,0,79,0,0,0 }
     },
     150
   },{
     4,
     {
       {83,0,0,0,-79,0,0,0 },
       {-83,0,0,0,79,0,0,0 }
     },
     1700
   },{
     5,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },
 },
 86,
 "Sneeze!" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     700
   },{
     1,
     {
       {0,158,0,0,-127,0,0,0 },
       {0,-158,0,0,127,0,0,0 }
     },
     800
   },{
     2,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-442,0,0,-80,0,0,0 }
     },
     1000
   },{
     3,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-71,0,0,-80,0,0,0 }
     },
     300
   },{
     4,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-71,-483,0,-80,0,0,0 }
     },
     300
   },{
     5,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-71,0,0,-80,0,0,0 }
     },
     300
   },{
     6,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-71,-483,0,-80,0,0,0 }
     },
     300
   },{
     7,
     {
       {253,442,0,0,80,0,0,0 },
       {-253,-71,0,0,-80,0,0,0 }
     },
     300
   },{
     8,
     {
       {0,158,0,0,5,0,0,0 },
       {0,-158,0,0,-5,0,0,0 }
     },
     1000
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },
 },
 87,
 "Stretch" ,
},{
 7,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },{
     1,
     {
       {617,1023,472,0,0,0,0,0 },
       {-528,-859,-426,0,0,0,0,0 }
     },
     560
   },{
     2,
     {
       {617,523,562,0,-262,0,0,0 },
       {-528,-469,-451,0,218,0,0,0 }
     },
     340
   },{
     3,
     {
       {617,423,437,0,-678,954,-354,0 },
       {-528,-444,-326,0,665,-1045,283,0 }
     },
     540
   },{
     4,
     {
       {542,-19,-6,0,261,1013,673,0 },
       {-635,59,-25,-48,-273,-1045,-654,-35 }
     },
     480
   },{
     5,
     {
       {518,-64,-6,0,234,891,734,0 },
       {-635,39,-55,-48,-273,-883,-734,-35 }
     },
     300
   },{
     6,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     940
   },
 },
 88,
 "Get Up (Face Up)" ,
},{
 12,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     1000
   },{
     1,
     {
       {0,0,0,0,-209,640,664,0 },
       {0,0,0,0,119,-517,-585,0 }
     },
     220
   },{
     2,
     {
       {0,0,0,0,35,29,669,0 },
       {0,0,0,0,-94,86,-619,0 }
     },
     320
   },{
     3,
     {
       {-62,533,44,0,-269,29,669,0 },
       {72,-631,-130,0,212,86,-619,0 }
     },
     540
   },{
     4,
     {
       {-759,1043,477,0,-209,29,669,0 },
       {699,-1011,-566,0,119,86,-619,0 }
     },
     520
   },{
     5,
     {
       {-714,-64,69,0,-698,692,591,0 },
       {652,39,-5,0,667,-677,-619,0 }
     },
     800
   },{
     6,
     {
       {-714,-64,69,0,-699,692,591,180 },
       {652,39,-30,0,828,-254,-323,149 }
     },
     360
   },{
     7,
     {
       {-699,-64,44,0,-820,607,518,307 },
       {649,39,-30,0,793,-37,-25,302 }
     },
     320
   },{
     8,
     {
       {-699,-64,-6,128,134,-48,-348,-5 },
       {699,64,-5,0,793,33,172,272 }
     },
     540
   },{
     9,
     {
       {-651,-64,44,0,419,-48,-37,-49 },
       {602,14,-5,0,793,-109,252,154 }
     },
     460
   },{
     10,
     {
       {-376,86,69,76,-563,769,283,311 },
       {402,-61,-30,0,485,-147,110,134 }
     },
     520
   },{
     11,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     620
   },
 },
 89,
 "Get Up (Face Down)" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     360
   },{
     3,
     {
       {-281,111,119,140,-15,165,188,140 },
       {-147,-111,-119,140,160,-99,-2,140 }
     },
     360
   },{
     4,
     {
       {-142,111,119,-140,0,0,0,-105 },
       {-185,-111,-119,-151,385,-402,-27,-156 }
     },
     360
   },{
     5,
     {
       {0,111,119,-140,0,0,0,-140 },
       {0,-111,-119,-158,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {147,111,119,-140,-160,99,2,-140 },
       {281,-111,-119,-140,15,-165,-188,-140 }
     },
     360
   },{
     7,
     {
       {185,111,119,151,-385,402,27,156 },
       {142,-111,-119,140,0,0,0,105 }
     },
     360
   },{
     8,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     180
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     340
   },
 },
 73,
 "Walk Back" ,
},{
 11,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {0,131,94,160,-224,444,215,245 },
       {0,-86,-80,120,0,0,-40,130 }
     },
     400
   },{
     4,
     {
       {0,61,94,-32,-124,236,157,-97 },
       {0,-86,-80,-87,0,0,42,-163 }
     },
     360
   },{
     5,
     {
       {0,61,94,-32,-124,236,137,-137 },
       {0,-86,-80,-27,326,-464,-49,-163 }
     },
     500
   },{
     6,
     {
       {0,61,94,-32,-124,236,127,-137 },
       {0,-86,-80,-66,275,-464,-179,-264 }
     },
     220
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     280
   },{
     8,
     {
       {0,0,0,120,0,0,0,160 },
       {0,-36,0,120,0,0,0,150 }
     },
     320
   },{
     9,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     280
   },{
     10,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 72,
 "Walk RTurn" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     400
   },{
     3,
     {
       {0,131,94,160,-164,284,135,245 },
       {0,-86,-80,30,0,0,70,110 }
     },
     400
   },{
     4,
     {
       {0,131,94,-10,-64,64,35,-35 },
       {0,-86,-80,-70,0,0,30,-150 }
     },
     400
   },{
     5,
     {
       {0,131,94,-50,-64,64,35,-105 },
       {0,-86,-80,-120,223,-453,-201,-190 }
     },
     400
   },{
     6,
     {
       {0,131,94,-50,-64,64,35,-105 },
       {0,-86,-80,-120,223,-453,-201,-190 }
     },
     400
   },{
     7,
     {
       {0,120,125,60,-20,0,10,100 },
       {0,-36,0,60,0,0,20,90 }
     },
     380
   },{
     8,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     280
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 71,
 "Walk LTurn" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,111,119,140,0,0,0,140 },
       {-10,-111,-119,140,0,0,0,140 }
     },
     160
   },{
     2,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     220
   },{
     3,
     {
       {185,111,119,140,-385,402,27,102 },
       {142,-111,-119,140,0,0,0,105 }
     },
     220
   },{
     4,
     {
       {147,111,119,-140,-255,298,96,-140 },
       {281,-111,-119,-140,15,-165,-227,-140 }
     },
     380
   },{
     5,
     {
       {0,111,119,-120,0,0,0,-140 },
       {0,-111,-119,-150,268,-605,-294,-140 }
     },
     180
   },{
     6,
     {
       {-142,111,119,-140,0,0,0,-105 },
       {-185,-111,-119,-140,385,-402,-27,-102 }
     },
     220
   },{
     7,
     {
       {-281,111,119,140,-15,165,227,140 },
       {-147,-111,-119,140,255,-298,-96,140 }
     },
     360
   },{
     8,
     {
       {0,111,119,150,-268,605,294,140 },
       {0,-111,-119,120,0,0,0,140 }
     },
     180
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     580
   },
 },
 70,
 "Walk Forward" ,
},{
 10,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },{
     1,
     {
       {424,-27,367,210,-366,438,-10,170 },
       {-443,36,-401,130,0,-40,-70,180 }
     },
     1000
   },{
     2,
     {
       {424,-27,367,-5,-648,438,-10,-26 },
       {-443,36,-401,130,-364,-50,-230,180 }
     },
     300
   },{
     3,
     {
       {14,648,-513,-239,-614,325,-308,-217 },
       {-3,-619,449,210,-347,-124,-454,216 }
     },
     480
   },{
     4,
     {
       {14,648,-513,-219,-644,375,-68,-217 },
       {-3,-619,449,200,-347,-114,-254,206 }
     },
     320
   },{
     5,
     {
       {14,648,-513,-219,-644,375,-68,-217 },
       {-3,-619,449,200,-347,-114,-254,206 }
     },
     440
   },{
     6,
     {
       {494,-83,-148,-227,-626,544,143,-212 },
       {559,131,314,64,-219,76,-50,51 }
     },
     380
   },{
     7,
     {
       {494,-83,-148,-227,-416,-6,-57,-212 },
       {559,131,314,-188,-219,76,-50,51 }
     },
     420
   },{
     8,
     {
       {189,23,-13,-49,-321,344,138,-112 },
       {72,56,124,-72,420,-387,-86,-14 }
     },
     380
   },{
     9,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     360
   },
 },
 48,
 "Heel & Toe RFoot" ,
},{
 8,
 { {
     0,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     100
   },{
     1,
     {
       {0,0,0,-20,0,0,0,-60 },
       {0,0,0,-20,0,0,0,-60 }
     },
     140
   },{
     2,
     {
       {0,36,0,-39,0,0,-13,-76 },
       {0,-31,0,-35,181,-354,-157,-37 }
     },
     140
   },{
     3,
     {
       {0,36,0,-39,0,0,-13,-46 },
       {0,-31,0,-165,111,-214,-87,-127 }
     },
     140
   },{
     4,
     {
       {0,61,0,-19,-90,127,50,60 },
       {0,-91,0,-159,178,-302,-155,-97 }
     },
     140
   },{
     5,
     {
       {0,96,0,182,-50,16,-45,204 },
       {0,0,0,85,86,-127,-50,80 }
     },
     140
   },{
     6,
     {
       {0,0,0,39,-214,408,194,97 },
       {0,0,0,39,86,-127,-50,57 }
     },
     180
   },{
     7,
     {
       {0,0,0,0,0,0,0,0 },
       {0,0,0,0,0,0,0,0 }
     },
     200
   },
 },
 0,
 "LStep" ,
},

};



String TempJsonFile, tmpJson;

//-----------------------------------------
int    ConnectResult, curAction = 0;

Servo RobotBodyServo[2][8];
//WidgetLED led1(V9);
// Initialize the OLED display using Arduino Wire:
SSD1306Wire display(0x3c, SDA, SCL);   

BLEServer *pServer = NULL;
BLECharacteristic* pHumoCharacteristic = NULL;

bool deviceConnected = false;
bool oldDeviceConnected = false;
uint32_t txValue = 0;

// See the following for generating UUIDs:
#define HUMO_CHARACTERISTIC_UUID	   "f90e9cfe-7e05-44a5-9d75-f13644d6f645"
#define SERVICE_UUID                 "e1f40469-cfe1-43c1-838d-ddbc9dafdde6"
               
bool listDir(fs::FS &fs, const char *dirname, uint8_t levels) {
  #ifdef debug
    Serial.printf("Listing directory: %s\r\n", dirname);
  #endif

  File root = fs.open(dirname);
  if (!root) {
    Serial.println("- failed to open directory");
    return false;
  }
  if (!root.isDirectory()) {
    Serial.println(" - not a directory");
    return false;
  }

  File file = root.openNextFile();
  while (file) {
    if (file.isDirectory()) {
      Serial.print("  DIR : ");
      Serial.println(file.name());
      if (levels) {
        listDir(fs, file.path(), levels - 1);
      }
    } else {
      //#ifdef debug
        Serial.print("  FILE: ");
        Serial.print(file.name());
        Serial.print("\tSIZE: ");
        Serial.println(file.size());
      //#endif

      String tmpName = String(file.name());
      pHumoCharacteristic->setValue("LINE:<input type=\"radio\" name=\"group1\" value=\""+tmpName.substring(0, tmpName.length()- 5 )+"\">" +tmpName.substring(0, tmpName.length()- 5 )+"<br>" );
      pHumoCharacteristic->notify();
    }
    file = root.openNextFile();
  }
  return true;
}

bool writeFile(fs::FS &fs, const char *path, const char *message) {

  bool err;

  #ifdef debug
    Serial.printf("Writing file: %s\r\n", path);
  #endif

  File file = fs.open(path, FILE_WRITE);
  if (!file) {
    Serial.println("- failed to open file for writing");
    return false;
  }
  if (file.print(message)) {
    Serial.println("- file written");
    err = true;
  } else {
    Serial.println("- write failed");
    err = false;
  }
  file.close();
  return err;
}

bool MakeFrameFrom(fs::FS &fs, const char *path)
{
  String tmp;

  #ifdef debug
    Serial.printf("Reading file: %s\r\n", path);
  #endif

  tmpJson = "";

  File file = fs.open(path);
  if (!file || file.isDirectory()) {
    Serial.println("- failed to open file for reading");
    return false;
  }

  #ifdef debug
    Serial.println("- read from file:");
  #endif

  while (file.available()) {
    tmpJson += file.readStringUntil('\n');
    #ifdef debug
      Serial.println( tmp.length() )  ;
    #endif
  }

  file.close();

   #ifdef debug
    Serial.print( "string length : " );
    Serial.println( tmpJson.length() );
    Serial.println( tmpJson );
  #endif

  if(!Parse( tmpJson.c_str() ) ) {
    Serial.println("- failed to parse");
    return false;
  };

  return true;
}

bool Parse(const char *jsonMotion)
{

  // Allocate the JSON document
  JsonDocument docDevice, docMotion;

  // Deserialize the JSON document
  DeserializationError error;

  error = deserializeJson(docDevice, jsonDevice);
  // Test if parsing succeeds
  if (error) {
    Serial.print(F("Device deserializeJson() failed: "));
    Serial.println(error.f_str());
    return false;
  }

    #ifdef debug
      Serial.println("");
      Serial.println("New line!  ");
      Serial.println(jsonMotion);
    #endif

    error = deserializeJson(docMotion,  jsonMotion ); 
    // Test if parsing succeeds
    if (error) {
      Serial.print(F("Motion deserializeJson() failed: "));
      Serial.println(error.f_str());
      return false;
    }


    // Fetch the values
/* 
    // Plen format
    Frame.count  = docMotion["@frame_length"];
    Frame.Name   = docMotion["name"];
    Frame.Number = docMotion["slot"];

   // Serial.println(Frame.Name);

    // Print the values
    for(int i=0; i<  Frame.count; i++ ) {

      Frame.actions[i].index = docMotion["frames"][i]["@index"];
      #ifdef debug
        Serial.print( "index = " );
        Serial.println( Frame.actions[i].index  );
      #endif
      for(int j=0; j<docDevice.size()  ; j++) {
          const char *deviceName  = docMotion["frames"][i]["outputs"][j]["device"];
          int        deviceValue = docMotion["frames"][i]["outputs"][j]["value"];  
          int        devicePart  = docDevice[deviceName][0];
          int        deviceIndex = docDevice[deviceName][1];

          if( deviceIndex != -1 ) 
            Frame.actions[i].musle[devicePart][deviceIndex] = deviceValue;

          #ifdef debug
            Serial.print(deviceName);
            Serial.print("(");
            Serial.print(devicePart);
            Serial.print(",");
            Serial.print(deviceIndex);
            Serial.print(") ");
            Serial.print("= ");
            Serial.println(deviceValue);
          #endif
      }

      Frame.actions[i].tdelay = docMotion["frames"][i]["transition_time_ms"];

      #ifdef debug
        Serial.print("delayTime(ms) = ");
        Serial.println(Frame.actions[i].tdelay );
      #endif

    }
*/

  // Fetch the values
  // my format

    Frame.count  = docMotion["count"];
    Frame.Name   = docMotion["name"];
    Frame.Number = docMotion["slot"];

   // Serial.println(Frame.Name);
    Frame.Loop[0].first = docMotion["lp_first"];
    Frame.Loop[0].last  = docMotion["lp_last"];
    Frame.Loop[0].count = docMotion["lp_count"];

    // Print the values
    for(int i=0; i<  Frame.count; i++ ) {
      Frame.actions[i].index = docMotion["index"][i];
      for(int j=0; j<8  ; j++) {
            Frame.actions[i].musle[0][j] = docMotion["muscle"][i][0][j];
            Frame.actions[i].musle[1][j] = docMotion["muscle"][i][1][j];
      }
      Frame.actions[i].tdelay = docMotion["tdelay"][i];
    }

    #ifdef debug
        //Serial.println( "Frame = { ");
        Serial.println( "{ ");
        Serial.print( " ");
        Serial.print( Frame.count ); Serial.println(",");

        Serial.println( "   {");
        Serial.print( "     {");
        Serial.print( Frame.Loop[0].first ); Serial.print(",");
        Serial.print( Frame.Loop[0].last  ); Serial.print(",");
        Serial.print( Frame.Loop[0].count ); Serial.print(",");
        Serial.println( "}, ");
        Serial.println( "   },");

        Serial.println( " {");
        // Print the values
          for(int i=0; i<  Frame.count; i++ ) {
            Serial.println( "   {");
            Serial.print( "     ");
            Serial.print( Frame.actions[i].index  ); Serial.println( "," );
            //for(int j=0; j<docDevice.size()  ; j++) {
              Serial.println( "     {");
              Serial.print( "       {");
              for(int k=0; k<7; k++) {
                Serial.print( Frame.actions[i].musle[0][k] ); Serial.print( "," );
              }
              Serial.print( Frame.actions[i].musle[0][7] ); 
              Serial.println( " },");
              Serial.print( "       {");
              for(int k=0; k<7; k++) {
                Serial.print( Frame.actions[i].musle[1][k] ); Serial.print( "," );
              }
              Serial.print( Frame.actions[i].musle[1][7] ); 
              Serial.println( " }");
              Serial.println( "     }, ");
            //}
            Serial.print( "     ");
            Serial.println(Frame.actions[i].tdelay );
            Serial.println( "   }," );

          }

          Serial.println( " }," );
          Serial.print( " ");
          Serial.print( Frame.Number ); Serial.println(",");
          Serial.print( " \""); Serial.print( Frame.Name ); Serial.print( "\" ");
          Serial.println(",");
          Serial.println( "},");
     #endif

  return true;

}

class MyServerCallbacks : public BLEServerCallbacks {
  void onConnect(BLEServer *pServer) {
    deviceConnected = true;
  };

  void onDisconnect(BLEServer *pServer) {
    deviceConnected = false;
  }
};

class MyCharacteristicCallbacks : public BLECharacteristicCallbacks {
  int index ;
  void onWrite(BLECharacteristic *pCharacteristic) {
    String rxValue = pCharacteristic->getValue();     
    if (rxValue.length() > 0) {
      int head_num = -1 ;
      String head = rxValue.substring(0, 9); 
      String head_str[] = { "BEGIN-LST","BEGIN-NUM", "BEGIN-RUN","BEGIN-UPL", "BEGIN-UED", "BEGIN-FMT", "BEGIN-TST", "BEGIN-TED", "BEGIN-HRM"};
      for(int i=0; i<9; i++) {
        if ( head.compareTo(head_str[i]) == 0 )  head_num = i;
      }
      switch(head_num) {
        case 0: // List custom Action
              if(listDir(SPIFFS, "/", 0)) {
                  pHumoCharacteristic->setValue("MESG:List OK!");
              } else {
                  pHumoCharacteristic->setValue("MESG:List Fail!");
              }              
              pHumoCharacteristic->notify();
              break;
        case 1: // Do Fixed Action
              if(fixedAction(rxValue.substring(9, rxValue.length()).toInt() ) ) {
                  pHumoCharacteristic->setValue("MESG:Done! " + rxValue.substring(9, rxValue.length()) );
              } else {
                  pHumoCharacteristic->setValue("MESG:Fail! " + rxValue.substring(9, rxValue.length()) );
              }
              pHumoCharacteristic->notify();
              break;
        case 2: // Do Custom Action - a file
              TempJsonFile = "/"+rxValue.substring(9, rxValue.length()) + ".json";
              if(MakeFrameFrom(SPIFFS, TempJsonFile.c_str())) { // read a file and run
                  customAction();   
                  pHumoCharacteristic->setValue("MESG:Done! " + rxValue.substring(9, rxValue.length()) );
                  pHumoCharacteristic->notify();
              } else { // Not found
                  Home();
                  msgOut(0, "Loading fail!", "");
                  pHumoCharacteristic->setValue("MESG:Fail! " + rxValue.substring(9, rxValue.length()) );
                  pHumoCharacteristic->notify();
              }
              break;
        case 3:// start Upload
              index = 0;
              tmpJson = "";
              TempJsonFile = "/"+rxValue.substring(9, rxValue.length()) + ".json";
              pHumoCharacteristic->setValue("MESG:RECV"+index);
              pHumoCharacteristic->notify();
              index ++;
              break;
        case 4:// finish Upload
              Serial.print(TempJsonFile);
              Serial.print("'s size is ");
              Serial.println(tmpJson.length());
              if(writeFile(SPIFFS, TempJsonFile.c_str(), tmpJson.c_str())) {
                  pHumoCharacteristic->setValue("MESG:Done! " + TempJsonFile );
              } else {
                  pHumoCharacteristic->setValue("MESG:Fail! " + TempJsonFile );
              }
              pHumoCharacteristic->notify();
              break;
        case 5:// Erase data
              if (SPIFFS.format())  {
                  Serial.println("All data erased!");
                  pHumoCharacteristic->setValue("MESG:Erase Done!" );
              } else {
                  pHumoCharacteristic->setValue("MESG:Erase Fail!" );
              }
              pHumoCharacteristic->notify();                
              break;
        case 6:// upload test action data
              index = 0;
              tmpJson = "";
              pHumoCharacteristic->setValue("MESG:RECV"+index);
              pHumoCharacteristic->notify();
              index ++;
              break;
        case 7:// finish test data uploading
              if(testAction() ) {   
                  pHumoCharacteristic->setValue("MESG:Test Done!" );
              } else {
                  pHumoCharacteristic->setValue("MESG:Test Fail!" );
              }
              pHumoCharacteristic->notify();
              break;
        case 8: // Home : initial position
              Home();
              pHumoCharacteristic->setValue("MESG:Home OK!");
              pHumoCharacteristic->notify();
              break;
        default: // Uloading
              tmpJson += rxValue;
              pHumoCharacteristic->setValue("MESG:RECV"+String(index));
              pHumoCharacteristic->notify();
              index ++;
              break;
      }
    }
  }
  /*
  void onRead(BLECharacteristic *pCharacteristic) {
    String rxValue = pCharacteristic->getValue();
     
    if (rxValue.length() > 0) {

      Serial.println("Received Value: ");
      Serial.println(rxValue);

    }
  }
  */

};

// BLYNK Subroutine
BLYNK_CONNECTED() {
    // Request Blynk server to re-send latest values for all pins
    Blynk.syncAll();
    Serial.println("Sync!");
    //
    Blynk.virtualWrite(V0, 0 );   
    Blynk.virtualWrite(V3, 0 );   
    Blynk.virtualWrite(V4, 0 );   
    Blynk.virtualWrite(V5, 0 );   
    Blynk.virtualWrite(V6, 0 );   
    Blynk.virtualWrite(V7, 0 );   
    Blynk.virtualWrite(V8, 0 );   
}

BLYNK_WRITE(V0) // Various Action
{
  curAction = param.asInt();

  fixedAction( curAction ) ;

}

BLYNK_WRITE(V3) // Fixed Action
{
  int pinValue = param.asInt();

  if( pinValue == 1 ) testAction( ) ;

  Blynk.virtualWrite(V3, 0 );   

}

BLYNK_WRITE(V4) // Fixed Action
{
  int pinValue = param.asInt();

 // if( pinValue == 1 ) CustomAction( BiKiBiKi ) ;

  Blynk.virtualWrite(V4, 0 );   

}

BLYNK_WRITE(V5) // Fixed Action
{
  int pinValue = param.asInt();

 // if( pinValue == 1 ) CustomAction( TEST ) ;

  Blynk.virtualWrite(V5, 0 );   

}

BLYNK_WRITE(V6) // Fixed Action
{
  int pinValue = param.asInt();

 // if( pinValue == 1 ) CustomAction( TEST ) ;

  Blynk.virtualWrite(V6, 0 );   

}

BLYNK_WRITE(V7) // Fixed Action
{
  int pinValue = param.asInt();

  if( pinValue == 1 ) {
    Blynk.virtualWrite(V1, "     Home!      ");	
    Blynk.virtualWrite(V2, "                ");	
    Home();
  }

  Blynk.virtualWrite(V7, 0 );   

}


BLYNK_WRITE(V8) // Fixed Action
{
  int pinValue = param.asInt();

  if( pinValue == 1 ) {
    fixedAction( curAction ) ;
  }

  Blynk.virtualWrite(V8, 0 );   

}

////
void msgOut(int mode, char *u_msg, char *l_msg) {

  char *blank = "                ";

  if( mode == 0 ) {
    Blynk.virtualWrite(V1, blank );	
    Blynk.virtualWrite(V1, u_msg);	
    display.clear();
    display.drawString(64,  0, u_msg );
    display.display();
    Serial.println(u_msg );
  }

  if( mode == 0 ) {
    Blynk.virtualWrite(V2, blank );	
    Blynk.virtualWrite(V2, l_msg);	
    display.clear();
    display.drawString(64, 22, l_msg );
    display.display();
    Serial.println(l_msg );
  }

  if( mode == 2 ) {
    Blynk.virtualWrite(V1, blank );	
    Blynk.virtualWrite(V2, blank );	
    Blynk.virtualWrite(V1, u_msg);	
    Blynk.virtualWrite(V2, l_msg);	
    display.clear();
    display.drawString(64,  0, u_msg );
    display.drawString(64, 22, l_msg );
    display.display();
    Serial.println(u_msg );
    Serial.println(l_msg );
  }


}

void printdata() {

  for(int l=0; l<64; l++) {  // Find the action
      Serial.print(Frames[l].Number);
      Serial.print("," );
      Serial.print("0x");
      Serial.print(Frames[l].Number < 16 ? "0" : "" );
      Serial.print(Frames[l].Number, HEX);
      Serial.print("," );
      Serial.print(Frames[l].Name );
      Serial.println(",-1" );
      for(int  i = 0; i<Frames[l].count; i++) {
        Serial.print(Frames[l].Number);
        Serial.print(",,," );
        Serial.print( i );
        Serial.print("," );
        for(int j=0; j<2; j++) {
            for(int k=0 ; k<8; k++) {
              Serial.print( Frames[l].actions[i].musle[j][k] );
              Serial.print("," );
            }
        }
        Serial.println("");
      } 
  }

}

void Home() {
  for(int j = 0; j < 8; j++) {  // initial home 
        RobotBodyServo[Right][j].write( map( RobotBody[Right][j].initial , RobotBody[Right][j].min, RobotBody[Right][j].max, 0, 180 )  ); 
        RobotBodyServo[Left ][j].write( map( RobotBody[Left ][j].initial , RobotBody[Left ][j].min, RobotBody[Left ][j].max, 0, 180 )  ); 
  } 
}

bool testAction(void) {


  if(!Parse( tmpJson.c_str() ) ) {
    Serial.println("- failed to parse");
    return false;
  };


  Blynk.virtualWrite(V1, "                ");	
  Blynk.virtualWrite(V2, "                ");	
  display.clear();

      const char *Name = Frame.Name;

      Blynk.virtualWrite(V1, "Found!");	
      Blynk.virtualWrite(V2, Name);	

      Serial.println(Name );

      display.drawString(64, 0, "Start!" );
      display.drawString(64, 22, Name );
      display.display();
      for(int  i = 0; i<Frame.count; i++) {
        for(int j=0; j<2; j++) {
            for(int k=0 ; k<8; k++) {
              ServoOut( j, k, Frame.actions[i].musle[j][k]  );
            }
        }
        delay( Frame.actions[i].tdelay / 5 ); // delay for each action
        Serial.println("Next!");
      } 
      display.clear();
      display.drawString(64, 0, "Done!  " ); 
      display.drawString(64, 22, Name );
      display.display();      
      Blynk.virtualWrite(V1, "Done!");	
      Serial.println("Done!" );   

  return true;
}


bool fixedAction(int pinValue) {

  Blynk.virtualWrite(V1, "                ");	
  Blynk.virtualWrite(V2, "                ");	
  display.clear();

  for(int l=0; l<sizeof(Frames)/sizeof(Frames[0]); l++) {  // Find the action
    if( Frames[l].Number == pinValue ) {  // Action number
      const char *Name = Frames[l].Name;

      Blynk.virtualWrite(V1, "Found!");	
      Blynk.virtualWrite(V2, Name);	

      Serial.println(Name );

      display.drawString(64, 0, "Start!" );
      display.drawString(64, 22, Name );
      display.display();
      for(int  i = 0; i<Frames[l].count; i++) {
        for(int j=0; j<2; j++) {
            for(int k=0 ; k<8; k++) {
              ServoOut( j, k, Frames[l].actions[i].musle[j][k] / 10  );
            }
        }
        delay( Frames[l].actions[i].tdelay / 5 ); // delay for each action
        Serial.println("Next!");
      } 
      display.clear();
      display.drawString(64, 0, "Done!  " ); 
      display.drawString(64, 22, Name );
      display.display();      
      Blynk.virtualWrite(V1, "Done!");	
      Serial.println("Done!" );   
      return true;
    }
  }
  // Not found
  Home();
  display.clear();
  Blynk.virtualWrite(V1, "Not found!" );   
  display.drawString(64, 0, "Not found!" );
  display.display();
  Serial.print(" Not found - ");
  Serial.println(pinValue);

  return false;
}

void customOut(int i) {
  //
  for(int j=0; j<2; j++) {
      for(int k=0 ; k<8; k++) {
        ServoOut( j, k, Frame.actions[i].musle[j][k] / 10 );
      }
  }
  delay( Frame.actions[i].tdelay / 5 ); // delay for each action
  Serial.println("Next!");
}

void customAction() {

  Blynk.virtualWrite(V1, "                ");	
  Blynk.virtualWrite(V2, "                ");	
  display.clear();

  const char *Name = Frame.Name;

  Blynk.virtualWrite(V1, "Found!");	
  Blynk.virtualWrite(V2, Name);	

  Serial.println(Name );

  display.drawString(64, 0, "Start!" );
  display.drawString(64, 22, Name );
  display.display();

  if( Frame.Loop[0].count == 0 ) {

      for(int  i = 0; i<Frame.count; i++) {
        customOut(i);
      } 
  
  } else {

      for(int  i = 0; i<Frame.Loop[0].first; i++) {
        customOut(i);
      }
      Serial.print("Repeat Start! ");
      Serial.println(Frame.Loop[0].count);
      for(int  l = 0; l<Frame.Loop[0].count; l++) {
        for(int  i = Frame.Loop[0].first; i<Frame.Loop[0].last + 1; i++) {
          customOut(i);
        }
        Serial.print("Repeat! ");
        Serial.println(l+1);
      }
      Serial.println("Repeat Finish!");
      for(int  i = Frame.Loop[0].last + 1; i<Frame.count; i++) {
        customOut(i);
      }

  }

  display.clear();
  display.drawString(64, 0, "Done!  " ); 
  display.drawString(64, 22, Name );
  display.display();      
  Blynk.virtualWrite(V1, "Done!");	
  Serial.println("Done!" );   

}

void ServoOut(int mode, int which, int value) {

int absDegree, relDegree;

//  degree = map( value * RobotBody[mode][which].offset + RobotBody[mode][which].initial , -90, 90, 0, 180) ; 
  relDegree = value * RobotBody[mode][which].offset;
  absDegree = map( relDegree, RobotBody[mode][which].min, RobotBody[mode][which].max, 0, 180) ; 
  RobotBodyServo[mode][which].write( absDegree ); 
  delay(25);

  Serial.print(value);
  Serial.print(",");
  Serial.print(relDegree);
  Serial.print(",");
  Serial.print(absDegree);

  switch( mode ) {
    case  Right :
          Serial.println(" : Right ");
        break;
    case  Left :
          Serial.println(" : Left ");
        break;
  }
          
}

void InitailRobot( ) {

  for(int dir = 0; dir < 2; dir++) {
      for(int j = 0; j < 8; j++) {
        RobotBodyServo[dir][j].detach();
        Serial.print("Servo ");
        Serial.print(dir);
        Serial.print(",");
        Serial.print(j);

        RobotBodyServo[dir][j].setPeriodHertz(50);      // Standard 50hz servo

        if( RobotBodyServo[dir][j].attach( RobotBody[dir][j].pin  ) < 0 ) { // attach the servo
            Serial.println(" attach error");
        } else {
            Serial.println(" attached ! ");
        }
      }    
      Home();
 }

}

void Connect_WIFI()
{

  ConnectResult = 0;

  Blynk.begin(BLYNK_AUTH_TOKEN, ssid, password);

  if( ConnectResult == 0 ) {
    // Success                        
    display.setTextAlignment(TEXT_ALIGN_LEFT);
    display.setFont(ArialMT_Plain_10);
    display.drawString(0, 0, "Hello!");
    display.setTextAlignment(TEXT_ALIGN_CENTER);
    display.setFont(ArialMT_Plain_16);
    display.drawString(64, 22, "Robot World!");

    Blynk.virtualWrite(V1, "    Hello!      ");	
    Blynk.virtualWrite(V2, "  Robot World!  ");	
  } else {
    ConnectResult = -1;
    display.setTextAlignment(TEXT_ALIGN_LEFT);
    display.setFont(ArialMT_Plain_10);
    display.drawString(0, 0, "Hello!");
    display.setTextAlignment(TEXT_ALIGN_CENTER);
    display.setFont(ArialMT_Plain_16);
    display.drawString(64, 22, "No connect!");    
  } 
  display.display();
}

void drawProgressBarDemo(int counter) {
 
  int progress = (counter / 5) % 100;
  // draw the progress bar
  display.drawProgressBar(0, 32, 120, 10, progress);

  // draw the percentage as String
  display.setTextAlignment(TEXT_ALIGN_CENTER);
  display.drawString(64, 15, String(progress) + "%");
}

void drawImageDemo() {
  // see http://blog.squix.org/2015/05/esp8266-nodemcu-how-to-create-xbm.html
  // on how to create xbm files
  display.drawXbm(34, 14, WiFi_Logo_width, WiFi_Logo_height, WiFi_Logo_bits);
}

void BlutoothSetup() {

  // Create the BLE Device
  BLEDevice::init("HUMO");

  // Create the BLE Server
  pServer = BLEDevice::createServer();
  pServer->setCallbacks(new MyServerCallbacks());

  // Create the BLE Service
  BLEService *pService = pServer->createService(SERVICE_UUID);


// Create a BLE Characteristic
  pHumoCharacteristic = pService->createCharacteristic(
                      HUMO_CHARACTERISTIC_UUID,
                      BLECharacteristic::PROPERTY_READ   |
                      BLECharacteristic::PROPERTY_WRITE  |
                      BLECharacteristic::PROPERTY_NOTIFY |
                      BLECharacteristic::PROPERTY_INDICATE
                    );

  // Register the callback for the ON button characteristic
  pHumoCharacteristic->setCallbacks(new MyCharacteristicCallbacks());
  pHumoCharacteristic->addDescriptor(new BLE2902());

  // Start the service
  pService->start();

  // Start advertising
  BLEAdvertising *pAdvertising = BLEDevice::getAdvertising();
  pAdvertising->addServiceUUID(SERVICE_UUID);
  pAdvertising->setScanResponse(false);
  pAdvertising->setMinPreferred(0x0);  // set value to 0x00 to not advertise this parameter
  BLEDevice::startAdvertising();
  Serial.println("Waiting a client connection to notify...");
}


void setup() {
  Serial.begin(115200);
  Serial.println();

  pinMode(32, OUTPUT);
  digitalWrite(32, 1); // head

 if (!SPIFFS.begin(FORMAT_SPIFFS_IF_FAILED)) {
    Serial.println("SPIFFS Mount Failed");
    return;
  }

 // Initialising the UI will init the display too.
  display.init();
  display.flipScreenVertically();
  display.clear();

  InitailRobot();
  Connect_WIFI();

  BlutoothSetup();

}

void loop() {

  if( ConnectResult == 0 ) {
     Blynk.run();
  } 

  if (deviceConnected) {
    txValue++;
  }
  // disconnecting
  if (!deviceConnected && oldDeviceConnected) {
    Serial.println("Device disconnected.");
    delay(500); // give the bluetooth stack the chance to get things ready
    pServer->startAdvertising(); // restart advertising
    Serial.println("Start advertising");
    oldDeviceConnected = deviceConnected;
    txValue = 0;
  }
  // connecting
  if (deviceConnected && !oldDeviceConnected) {
    // do stuff here on connecting
    oldDeviceConnected = deviceConnected;
    Serial.println("Device Connected");

  }

}
